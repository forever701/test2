<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:locale" content="vi_VN">
    <meta property="og:type" content="website">
    <meta property="og:title"
        content="Dâu Tây - Được tạo ra một cách cẩn thận, hãy để ngành phát sóng trực tiếp trở thành hình mẫu thu hút sự chú ý toàn cầu">
    <meta property="og:description" content="Dâu Tây 1.Tương tác và trò chuyện với người dẫn chương trình và có hàng nghìn trò chơi để bạn chơi.
    2.Dẫn đầu làn sóng đổi mới của ngành truyền hình trực tiếp với chất lượng vượt trội và chuyên nghiệp">
    <meta property="og:image" content="https://mmlive.one/wp-content/uploads/2021/01/banner-slide1.png">
    <meta property="og:updated_time" content="2023-11-07T19:49:43+07:00">
    <meta name="twitter:title"
        content="Dâu Tây - Được tạo ra một cách cẩn thận, hãy để ngành phát sóng trực tiếp trở thành hình mẫu thu hút sự chú ý toàn cầu">
    <meta name="twitter:description" content="Dâu Tây 1.Tương tác và trò chuyện với người dẫn chương trình và có hàng nghìn trò chơi để bạn chơi.
        2.Dẫn đầu làn sóng đổi mới của ngành truyền hình trực tiếp với chất lượng vượt trội và chuyên nghiệp">
    <meta name="twitter:image" content="https://mmlive.one/wp-content/uploads/2021/01/banner-slide1.png">
    <title>app</title>
    <script type="text/javascript" src="./js/crypto-js.js"></script>
    <script src="./js/index.js"></script>
    <script type="text/javascript" src="./js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="./js/md5.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
    <script>LA.init({ id: "3GvcwDP0AUhX1gXM", ck: "3GvcwDP0AUhX1gXM" })</script>
    <link rel="stylesheet" href="./css/index.css">
</head>

<body>
    <div class="page-wrap" id="app">
        <div class="header">
            <img src="./img/sound.png" alt="" class="sound">
            <div class="marquee">
                <span>{{allData[lang].title3}}</span>
            </div>
        </div>

        <img :src="`./img/logo-${lang}.png`" alt="" class="logo">
        <img :src="`./img/url-${lang}.png`" alt="" class="url" @click="onDownloadApp">
        <img :src="`./img/tip3-${lang}.png`" alt="" class="tip3">
        <img :src="`./img/game-${lang}.png`" alt="" class="game">
        <img :src="`./img/download-${lang}.gif`" alt="" class="download" @click="onDownloadApp">
        <div class="showbox">
            <img :src="`./img/tip0-${lang}.png`" alt="" class="showbox-title">
            <div v-for="(item,index) in allData[lang].hots" class="show-item">
                <img :src="`./img/tip-img-${index}-${lang}.png`" alt="" class="show-item-img">
                <div style="padding: 0 0.2rem;">
                    <div class="show-t-0">{{item.name}}</div>
                    <div class="show-t-1">{{item.title}}</div>
                </div>
            </div>
        </div>

        <div class="showbox" style="margin-top: 0.4rem;">
            <img :src="`./img/tip1-${lang}.png`" alt="" class="showbox-title">
            <div v-for="(item,index) in downloadList" class="show-item">
                <div style="font-size: 0.32rem;display: flex;align-items: center;">
                    {{`${allData[lang].title1}${index+1}：`}}<span style="color: #FF0000;">{{item.urlName}}</span></div>
                <div class="download-item" @click="onDownloadApp">{{allData[lang].title2}}</div>
            </div>
        </div>
        <img :src="`./img/service-${lang}.gif`" alt="" class="service" @click="onService">

    </div>
    <script>
        new Vue({
            el: '#app',
            data: {
                lang: 'vi',
                langs: ['zh', 'vi'],
                code: '',
                reg: '',
                sideCode: 1,
                apiUrl: 'https://api.c4prfy.com',
                downloadList: [],
                ios: null,
                android: null,
                h5: null,
                serviceUrl: null,
                newDate: null,
                udid: null,
                os: null,
                allData: {
                    'zh': {
                        'appName': '草莓直播',
                        'hots': [
                            { 'name': '公平公正', 'title': '官方保证，呈现可靠' },
                            { 'name': '资金保障', 'title': '加密机制，安全保障' },
                            { 'name': '用心服务', 'title': '24/7全天候服务，随时恭候您' }
                        ],
                        'title1': '网址',
                        'title2': '打开',
                        'title3': '由于行业原因，本APP被某杀毒软件认定为病毒，请大家放心使用，安装APP不会对您的手机有安全隐患。'

                    },
                    'vi': {
                        'appName': 'Dâu Tây',
                        'hots': [
                            { 'name': 'công bằng và chính đáng', 'title': 'Bảo đảm chính thức, trình bày đáng tin cậy' },
                            { 'name': 'Bảo lãnh quỹ', 'title': 'Cơ chế mã hóa, đảm bảo an ninh' },
                            { 'name': 'Phục vụ bằng trái tim', 'title': 'Phục vụ 24/7, chờ đợi bạn bất cứ lúc nào' }
                        ],
                        'title1': 'URL',
                        'title2': 'Mở',
                        'title3': 'Vì lý do ngành, APP này đã được phần mềm chống vi-rút xác định là vi-rút. Vui lòng sử dụng nó. Việc cài đặt Ứng dụng sẽ không gây ra bất kỳ rủi ro bảo mật nào cho điện thoại di động của bạn.'
                    },
                }
            },
            mounted() {
                this.reg = window.location.href.split("/")[3]
                if (this.reg.includes('?')) {
                    this.reg = this.reg.split("?")[0]
                }
                // if (this.reg && this.reg.length >= 7) {
                //     this.lang = this.langs[this.reg.slice(0, -6)] || 'zh';
                // } else {
                //     this.lang = getCurrentLanguage()[0]
                // }
                this.sideCode = this.lang === 'zh' ? 0 : 1;
                this.newDate = +new Date()
                document.title = this.allData[this.lang].appName
                this.handleIcoCreate(`./img/logo-icon-${this.lang}.png`);
                const fpPromise = import('https://openfpcdn.io/fingerprintjs/v3')
                    .then(FingerprintJS => FingerprintJS.load())
                fpPromise
                    .then(fp => fp.get())
                    .then(result => {
                        this.udid = result.visitorId.toUpperCase()
                        this.getDownloadList();
                        console.log(this.udid)
                    })
            },
            methods: {
                getDownloadList() {
                    axios.post(this.apiUrl + `/promotion/app/user/landingpage/list`, { os: judgeClient() === 'IOS' ? 2 : 1, invitationCode: this.reg }, {
                        headers: {
                            'Content-type': 'application/json',
                            'X-UDID': this.udid,
                            'X-Timestamp': this.newDate,
                            'X-Sign': $.md5(this.udid + '6fff,3344322' + this.newDate),
                            'side_code': 1
                        }
                    }).then((res) => {
                        const response = res.data
                        if (response.secret) {
                            response.data = decrypt(response.data)
                        }
                        this.ios = response.data.filter(item => item.position === 4)[0]
                        this.android = response.data.filter(item => item.position === 1)[0]
                        this.h5 = response.data.filter(item => item.position === 2)[0]
                        this.serviceUrl = response.data.filter(item => item.position === 5)[0].urlDown
                        this.downloadList = response.data.filter(item => item.position === 3)
                    })
                },
                onDownloadApp() {
                    if (judgeClient() === 'IOS') {
                        this.downloadApp(this.ios)
                    } else {
                        this.downloadApp(this.android)
                    }
                },
                downloadApp(item) {
                    axios.get(item.urlDown + this.reg, {
                        headers: {
                            'Content-type': 'application/json',
                            'X-UDID': this.udid,
                            'X-Timestamp': this.newDate,
                            'X-Sign': $.md5(this.udid + '6fff,3344322' + this.newDate),
                            'side_code': 1
                        }
                    }).then(res => {
                        let response = res.data;
                        if (response.secret) {
                            response.data = decrypt(response.data)
                        }
                        if (response.data) {
                            location.href = response.data;
                        }
                    })
                },
                onService() {
                    window.open(this.serviceUrl)
                },
                handleIcoCreate(icoUrl) {
                    var link = document.querySelector("link[rel*='icon']") || document.createElement('link');
                    link.type = 'image/x-icon';
                    link.rel = 'shortcut icon';
                    link.href = icoUrl
                    document.getElementsByTagName('head')[0].appendChild(link);
                },
            }
        });
    </script>
</body>

</html>