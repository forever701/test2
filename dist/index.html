<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>app</title>
    <script type="text/javascript" src="./js/crypto-js.js"></script>
    <script src="./js/index.js"></script>
    <script type="text/javascript" src="./js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="./js/md5.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"></script>
    <link rel="stylesheet" href="./css/index.css">
</head>

<body>
    <div class="page-wrap" id="app">
        <img class="banner-img" :src="`./img/${lang}-banner.gif`" alt="">
        <div class="tip1">{{`${allData[lang].appName}${allData[lang].tip1}`}}</div>
        <!-- <img class="download-img download" src="./img/btn.png" alt=""> -->
        <div class="download download-img">{{allData[lang].tip2}}</div>
        <div class="title-wrap">
            <span class="left-title">{{allData[lang].tip3}}</span>
            <img class="beat-img" src="./img/beat.gif" alt="">
        </div>
        <div class="img-warp">
            <div class="img-box" v-for="(item,index) in allData[lang].lives">
                <img :src="`./img/${item.img}`" alt="">
                <span class="living pos-ab">
                    <i></i>
                    {{allData[lang].live}}
                </span>
                <span class="tag pos-ab" :style="`background:${item.color}`" v-if="item.tip">{{item.tip}}</span>
                <div class="play_bott pos-ab go-h5">
                    <div></div>
                </div>
                <div class="live_foot pos-ab">
                    <div>
                        <div>{{item.name}}</div>
                        <div>{{item.age}}</div>
                    </div>
                    <span>{{item.people}}</span>
                </div>
            </div>
        </div>

        <div class="more-live go-h5" style="margin-top:.21rem">{{allData[lang].tip4}}</div>
        <div class="title-wrap">
            <span class="left-title">{{allData[lang].tip5}}</span>
            <img class="beat-img" src="./img/beat.gif" alt="">
        </div>
        <div class="comment">
            <div class="comment-wrap" v-for="(item,index) in allData[lang].hots">
                <img class="avatar" :src="`./img/avatar${item.avatar}.png`" alt="">
                <div>
                    <div class="name">{{item.name}}</div>
                    <div class="comment-info">{{item.title}}</div>
                </div>
                <div class="time">{{item.time}}</div>
            </div>
        </div>
        <div class="more-live go-h5">{{allData[lang].tip6}}</div>
        <div class="tip2">{{allData[lang].tip7}}</div>
        <div class="tip3">
            {{`${allData[lang].appName} 2008-2023`}}
        </div>
        <img class="bottom-img download" :src="`./img/${lang}-bottom.gif`" alt="">
    </div>
    <script>
        new Vue({
            el: '#app',
            data: {
                lang: 'vi',
                langs: ['zh', 'vi'],
                code: '',
                reg: '',
                allData: {
                    'zh': {
                        'appName': 'panda直播',
                        'tip1': '有稳定的运营收入，绝不含恶意程序，请放心使用',
                        'tip2': '立即下载',
                        'tip3': '热门直播',
                        'tip4': '更多直播',
                        'tip5': '热门评论',
                        'tip6': '加入官方群组，一起畅聊',
                        'tip7': '如果您未满18岁或当地法律未允许成人内容请停止访问此网站',
                        'tip9': '邀请码复制成功',
                        'tip10': '邀请码复制失败',
                        'live': '直播中',
                        'lives': [
                            { 'name': '娜娜', 'people': '58632人在线', 'age': '20岁', 'tip': '直播做爱', 'img': 'live-img-0-l.gif', 'color': '#ff3360' },
                            { 'name': '猫儿酱', 'people': '46583人在线', 'age': '21岁', 'tip': '激情自慰', 'img': 'live-img-0-r.gif', 'color': 'rgb(168, 48, 255)' },
                            { 'name': '梦璃', 'people': '34118人在线', 'age': '25岁', 'tip': '互动聊骚', 'img': 'live-img-2.jpg', 'color': 'rgb(66, 175, 255)' },
                            { 'name': '大大芭姬', 'people': '75964人在线', 'age': '22岁', 'tip': '空降女友', 'img': 'live-img-3.jpg', 'color': '#ff3360' },
                            { 'name': '小迪', 'people': '28856人在线', 'age': '20岁', 'tip': '多人大秀', 'img': 'live-img-4.jpg', 'color': 'rgb(255, 96, 2)' },
                            { 'name': '萱萱', 'people': '31882人在线', 'age': '24岁', 'tip': '酮体诱惑', 'img': 'live-img-5.jpg', 'color': 'rgb(255, 0, 207)' },
                        ],
                        'hots': [
                            { 'name': '挪威的森林', 'avatar': 1, 'title': '这个时间点看这APP，让我想到一首歌"想要，想要，我快要受不了', 'time': '15 秒前' },
                            { 'name': '黄药师', 'avatar': 2, 'title': '我的挺好的呀，妳要放哪都可以，还会时不时上点润滑，有时如铁一般硬，有时又如水一样柔软，可以搭配妳的需求使用～～', 'time': '53 秒前' },
                            { 'name': '天道酬勤', 'avatar': 3, 'title': '一日之际在于晨，上班前看下小姐姐，会带来美好的一天', 'time': '2 分钟前' },
                            { 'name': '山街十二少', 'avatar': 4, 'title': '女主播质量都很高啊，有望接班传奇猫先生，建议学学猫先生的拍摄角度，加油兄弟，支持', 'time': '3 分钟前' },
                            { 'name': '江森先生', 'avatar': 5, 'title': '关键时候还得看少妇，有气质，有韵味，身材也不错，动起来的能力很强呀！！！', 'time': '6 分钟前' },
                            { 'name': '铁棍山药', 'avatar': 6, 'title': '点赞(´｡✪ω✪｡｀)，还是原创直播更爽呀，下次让主播去 户外试试...', 'time': '21 分钟前' },
                            { 'name': '深井冰1号', 'avatar': 7, 'title': '男主比我太弱了，可惜了这么好的奶牛，哎', 'time': '26 分钟前' },
                            { 'name': '大王下山', 'avatar': 8, 'title': '女主播说受不了了要喷了，各位看官快来瞧瞧', 'time': '46 分钟前' },
                        ]
                    },
                    'vi': {
                        'appName': 'Quả anh đào ',
                        'tip1': 'có thu nhập hoạt động ổn định và không chứa các chương trình độc hại, các bạn cứ yên tâm sử dụng.',
                        'tip2': 'Tải về ngay lập tức',
                        'tip3': 'Phát sóng trực tiếp phổ biến',
                        'tip4': 'Nhiều chương trình phát sóng trực tiếp hơn',
                        'tip5': 'Nhận xét hàng đầu',
                        'tip6': 'Tham gia nhóm chính thức và trò chuyện cùng nhau',
                        'tip7': 'Nếu bạn dưới 18 tuổi hoặc luật pháp địa phương không cho phép nội dung người lớn Vui lòng ngừng truy cập trang web này',
                        'tip9': 'Mã lời mời được sao chép thành công',
                        'tip10': 'Không sao chép được mã lời mời',
                        'live': 'Phát sóng trực tiếp',
                        'lives': [
                            { 'name': 'Nana', 'people': '58632 người trực tuyến', 'age': '20 tuổi', 'img': 'live-img-0-l.gif' },
                            { 'name': 'Sam', 'people': '46583 người trực tuyến', 'age': '21 tuổi', 'img': 'live-img-0-r.gif' },
                            { 'name': 'Celian', 'people': '34118 người trực tuyến', 'age': '25 tuổi', 'img': 'live-img-2.jpg' },
                            { 'name': 'Jenna', 'people': '75964 người trực tuyến', 'age': '22 tuổi', 'img': 'live-img-3.jpg' },
                            { 'name': 'Chloe', 'people': '28856 người trực tuyến', 'age': '20 tuổi', 'img': 'live-img-4.jpg' },
                            { 'name': 'Stella', 'people': '31882 người trực tuyến', 'age': '24 tuổi', 'img': 'live-img-5.jpg' },
                        ],
                        'hots': [
                            { 'name': 'Khu rừng ở Na Uy', 'avatar': 1, 'title': 'Nhìn APP này lúc này lại nhớ đến bài hát "Muốn nó, thèm quá, chịu không nổi nữa"', 'time': '15 giây trước', 'img': 'live-img-0-l.gif', 'color': '#ff3360' },
                            { 'name': 'Hoàng Dược Sư', 'avatar': 2, 'title': 'Của tôi khá tốt, bạn có thể đặt nó ở bất cứ đâu bạn muốn, và thỉnh thoảng bạn có thể bôi trơn nó. Lúc thì cứng như sắt, lúc thì mềm như nước. Bạn có thể sử dụng tùy theo nhu cầu của mình~~', 'time': '53 giây trước' },
                            { 'name': 'ngày qua ngày', 'avatar': 3, 'title': 'Buổi sáng là sự khởi đầu của một ngày, ngắm nhìn cô gái trẻ trước khi đi làm sẽ mang đến một ngày tuyệt vời.', 'time': '2 phút trước' },
                            { 'name': '12 ít hơn', 'avatar': 4, 'title': 'Chất lượng của các mỏ neo nữ rất cao, được kỳ vọng sẽ nối nghiệp Mr.Cat huyền thoại. Khuyên các bạn nên học hỏi những góc chụp của Mr.Cat. Thôi các anh em ủng hộ nhé', 'time': '3 phút trước' },
                            { 'name': 'Ông Johnson', 'avatar': 5, 'title': 'Vào thời điểm quan trọng, bạn phải nhìn vào người phụ nữ trẻ, cô ấy có khí chất, sự quyến rũ, dáng người đẹp và khả năng di chuyển mạnh mẽ! ! !', 'time': '6 phút trước' },
                            { 'name': 'thanh sắt khoai lang', 'avatar': 6, 'title': 'Giống như (`｡✪ω✪｡｀), buổi phát sóng trực tiếp ban đầu thú vị hơn, lần sau hãy để người dẫn chương trình thử ngoài trời...', 'time': '21 phút trước' },
                            { 'name': 'Đá Sham Tsing số 1', 'avatar': 7, 'title': 'Nam chính so với ta yếu quá, trâu tốt như vậy thật đáng tiếc, ugh', 'time': '26 phút trước' },
                            { 'name': 'Nhà vua xuống núi', 'avatar': 8, 'title': 'Nữ phát thanh viên nói không chịu nổi nữa muốn phun nước, các vị đến xem xem.', 'time': '46 phút trước' },
                        ]
                    },
                }
            },
            mounted() {
                this.reg = window.location.href.split("/")[3]
                if (this.reg && this.reg.length >= 7) {
                    this.lang = this.langs[this.reg.slice(0, -6)] || 'zh';
                } else {
                    this.lang = navigator.language.slice(0, 2);
                    if (this.langs.includes(this.lang)) {
                        this.lang = 'zh'
                    }
                }
                document.title = this.allData[this.lang].appName
            },
        });
        let apiUrl = 'https://api.live8.shop'
        let ios = {}
        let Android = {}
        let h5 = {}
        let locationUrl = window.location.href;
        let reg = locationUrl.split("/")[3]
        let sideCode = reg.slice(0, -6) || 0
        let date = +new Date()
        $.ajax(
            {
                url: apiUrl + '/promotion/app/user/landingpage/list',
                type: 'post',
                dateType: 'json',
                headers: {
                    'Content-type': 'application/json',
                    'X-UDID': 'AC197BDFE685711D88B655735D8EB630',
                    'X-Timestamp': date,
                    'X-Sign': $.md5('AC197BDFE685711D88B655735D8EB630' + 'jgyh,kasd' + date),
                    'side_code': sideCode
                },
                data: JSON.stringify(),
                success: function (res) {
                    let response = res;
                    let data = response.data
                    if (response.secret) {
                        data = decrypt(res.data)
                    }
                    ios = data.filter(item => item.position === 4)[0]
                    Android = data.filter(item => item.position === 1)[0]
                    h5 = data.filter(item => item.position === 2)[0]
                }
            })

        function statistics(id) {
            let url = apiUrl + '/promotion/app/user/saveLoadingRecord?sideCode=' + id;
            $.ajax({
                method: 'get',
                url,
                headers: {
                    'Content-type': 'application/json',
                    'X-UDID': 'AC197BDFE685711D88B655735D8EB630',
                    'X-Timestamp': date,
                    'X-Sign': $.md5('AC197BDFE685711D88B655735D8EB630' + 'jgyh,kasd' + date),
                    'side_code': sideCode
                }
            }).then(res => {
                console.log(res, '/promotion/app/user/saveLoadingRecord?sideCode= ');
            })
        }

        function downloadApp(item) {
            let url = item.urlDown + reg
            $.ajax({
                method: 'get',
                url,
                headers: {
                    'Content-type': 'application/json',
                    'X-UDID': 'AC197BDFE685711D88B655735D8EB630',
                    'X-Timestamp': date,
                    'X-Sign': $.md5('AC197BDFE685711D88B655735D8EB630' + 'jgyh,kasd' + date),
                    'side_code': sideCode
                }
            }).then(res => {
                let response = res;
                if (response.secret) {
                    response.data = decrypt(response.data)
                }
                if (res.data) {
                    location.href = res.data;
                    // statistics(item.sideCode)
                }
            })
        }
        function copyText(str) {
            let newInput = document.createElement("input");
            newInput.value = str;
            document.body.appendChild(newInput);
            newInput.select();
            document.execCommand("Copy");
            newInput.remove();
        }
        const updateClipboard = (newText) => {
            navigator.clipboard.writeText(newText).then(() => {
                console.log('邀请码复制成功');
            }, () => {
                console.log('邀请码复制失败');
            })
        }
        $(document).ready(function () {
            $('.download').click(function (e) {
                let regCode = 'reg=' + reg
                // try {
                //     navigator.permissions.query({ name: 'clipboard-write' }).then(res => {
                //         if (res.state === 'granted' || res.state === 'prompt') {
                //             updateClipboard(regCode)
                //         } else {
                //             copyText(regCode)
                //         }
                //     })
                // } catch(e) {
                // }
                // copyText(regCode)
                if (judgeClient() === 'IOS') {
                    downloadApp(ios)
                } else {
                    downloadApp(Android)
                }
            })
            $('.go-h5').click(function (e) {
                location.href = h5.urlDown + reg
            })
        })
    </script>
</body>

</html>